import{d as g,i as b,G as h,B as w,C as y,r as v,o as C,u as V,f as S,_ as F,j as n,t as _,s as t,q as c,y as B,m as $,F as j,v as L,k as u,l as N}from"./app-DpqgLFQi.js";import{R as M}from"./recipe-book.service-Df3-flx1.js";import{u as z}from"./date-format-rfZit4qg.js";import{R as A}from"./recipe-book.model-D34OU-kN.js";import{R as T}from"./RecipeBookCard-B38BZ0JF.js";import{_ as D}from"./CreateRecipeBookForm.vue_vue_type_script_setup_true_lang-OrL5rXBV.js";import{h as E}from"./header-bg-C45d2Xww.js";import"./functions-BsjzqxxS.js";const q=g({name:"RecipeBookMyPage",components:{CreateRecipeBookForm:D,RecipeBookCard:T},setup(){const o=z(),s=b("recipeBookService",()=>new M),a=b("alertService",()=>S(),!0);h(),w();const k=y(),f=()=>k.go(-1),i=v([]),r=v(!1),l=async()=>{try{const e=await s().retrieveMyRecipeBooks();i.value=e.data}catch(e){a.showHttpError(e.response)}};function p(){r.value=!r.value}function d(e){if(!e){console.error("Recipe book is null!");return}i.value=[...i.value,e]}function m(e){if(!e){console.error("Recipe book id null!");return}i.value=i.value.filter(R=>R.id!=e)}return C(async()=>{await l()}),{...o,alertService:a,recipeBooks:i,toggleNewRecipeBVisible:p,newRecipeBFormVisible:r,addRecipeBookToList:d,removeRecipeBookToList:m,headerBg:E,previousState:f,t$:V().t}},computed:{RecipeBook(){return A}},compatConfig:{MODE:3},methods:{}}),x={class:"container"},G={class:"d-flex justify-content-center flex-column"},H={class:"position-relative text-center my-5"},O=["textContent"],P={class:"d-flex justify-content-end"},U=["textContent"],I={class:"my-2"},J={id:"newRecipeBookForm"},K={class:"recipe-books"};function Q(o,s,a,k,f,i){const r=n("b-img"),l=n("font-awesome-icon"),p=n("create-recipe-book-form"),d=n("b-modal"),m=n("recipe-book-card");return u(),_("div",x,[t("div",G,[t("div",H,[c(r,{src:o.headerBg,class:"carousel-header-img"},null,8,["src"]),t("h1",{class:"carousel-header mb-0 position-relative",textContent:B(o.t$("szakdolgozatApp.recipeBook.mypage.title"))},null,8,O)]),t("div",P,[t("button",{onClick:s[0]||(s[0]=(...e)=>o.toggleNewRecipeBVisible&&o.toggleNewRecipeBVisible(...e)),id:"jh-create-entity","data-cy":"entityCreateButton",class:"btn btn-primary jh-create-entity create-recipe-book"},[c(l,{icon:"plus"}),t("span",{textContent:B(o.t$("szakdolgozatApp.recipeBook.home.createLabel"))},null,8,U)])]),t("div",I,[c(d,{title:"Save recipe to...",modelValue:o.newRecipeBFormVisible,"onUpdate:modelValue":s[1]||(s[1]=e=>o.newRecipeBFormVisible=e),"hide-footer":"",centered:""},{default:$(()=>[t("div",J,[c(p,{"add-recipe-book-to-list":o.addRecipeBookToList,"toggle-new-recipe-b-visible":o.toggleNewRecipeBVisible},null,8,["add-recipe-book-to-list","toggle-new-recipe-b-visible"])])]),_:1},8,["modelValue"])]),t("div",K,[(u(!0),_(j,null,L(o.recipeBooks,e=>(u(),N(m,{"remove-from-recipe-books":o.removeRecipeBookToList,key:e.id,"recipe-book":e,"show-options":!0,"show-user":!1},null,8,["remove-from-recipe-books","recipe-book"]))),128)),s[2]||(s[2]=t("br",null,null,-1))])])])}const ie=F(q,[["render",Q]]);export{ie as default};
