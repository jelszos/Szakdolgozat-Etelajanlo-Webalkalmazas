import{d as R,i as v,G as h,B as y,C as w,r as _,o as C,u as V,f as S,_ as F,j as n,t as B,s as t,q as a,y as u,m as $,F as j,v as z,k,l as L}from"./app-9yHSs_0k.js";import{R as N}from"./recipe-book.service-D-CAdHjl.js";import{u as A}from"./date-format-GlMVmkoP.js";import{R as M}from"./recipe-book.model-D34OU-kN.js";import{R as T}from"./RecipeBookCard-Y34C4UwL.js";import{_ as D}from"./CreateRecipeBookForm.vue_vue_type_script_setup_true_lang-C0RjFM7P.js";import{h as E}from"./header-bg-C45d2Xww.js";import"./functions-BhiSqBls.js";const x=R({name:"RecipeBookMyPage",components:{CreateRecipeBookForm:D,RecipeBookCard:T},setup(){const o=A(),s=v("recipeBookService",()=>new N),c=v("alertService",()=>S(),!0);h(),y();const f=w(),b=()=>f.go(-1),i=_([]),r=_(!1),l=async()=>{try{const e=await s().retrieveMyRecipeBooks();i.value=e.data}catch(e){c.showHttpError(e.response)}};function p(){r.value=!r.value}function d(e){if(!e){console.error("Recipe book is null!");return}i.value=[...i.value,e]}function m(e){if(!e){console.error("Recipe book id null!");return}i.value=i.value.filter(g=>g.id!=e)}return C(async()=>{await l()}),{...o,alertService:c,recipeBooks:i,toggleNewRecipeBVisible:p,newRecipeBFormVisible:r,addRecipeBookToList:d,removeRecipeBookToList:m,headerBg:E,previousState:b,t$:V().t}},computed:{RecipeBook(){return M}},compatConfig:{MODE:3},methods:{}}),q={class:"container"},G={class:"d-flex justify-content-center flex-column"},H={class:"position-relative text-center my-5"},O=["textContent"],P=["textContent"],U={class:"d-flex justify-content-end"},I=["textContent"],J={class:"my-2"},K={id:"newRecipeBookForm"},Q={class:"recipe-books"};function W(o,s,c,f,b,i){const r=n("b-img"),l=n("font-awesome-icon"),p=n("create-recipe-book-form"),d=n("b-modal"),m=n("recipe-book-card");return k(),B("div",q,[t("div",G,[t("div",H,[a(r,{src:o.headerBg,class:"carousel-header-img"},null,8,["src"]),t("h1",{class:"carousel-header mb-0 position-relative",textContent:u(o.t$("szakdolgozatApp.recipeBook.mypage.title"))},null,8,O)]),t("p",{class:"lead",textContent:u(o.t$("szakdolgozatApp.recipeBook.mypage.subtitle"))},null,8,P),t("div",U,[t("button",{onClick:s[0]||(s[0]=(...e)=>o.toggleNewRecipeBVisible&&o.toggleNewRecipeBVisible(...e)),id:"jh-create-entity","data-cy":"entityCreateButton",class:"btn btn-primary jh-create-entity create-recipe-book"},[a(l,{icon:"plus"}),t("span",{textContent:u(o.t$("szakdolgozatApp.recipeBook.home.createLabel"))},null,8,I)])]),t("div",J,[a(d,{title:"Save recipe to...",modelValue:o.newRecipeBFormVisible,"onUpdate:modelValue":s[1]||(s[1]=e=>o.newRecipeBFormVisible=e),"hide-footer":"",centered:""},{default:$(()=>[t("div",K,[a(p,{"add-recipe-book-to-list":o.addRecipeBookToList,"toggle-new-recipe-b-visible":o.toggleNewRecipeBVisible},null,8,["add-recipe-book-to-list","toggle-new-recipe-b-visible"])])]),_:1},8,["modelValue"])]),t("div",Q,[(k(!0),B(j,null,z(o.recipeBooks,e=>(k(),L(m,{"remove-from-recipe-books":o.removeRecipeBookToList,key:e.id,"recipe-book":e,"show-options":!0,"show-user":!1},null,8,["remove-from-recipe-books","recipe-book"]))),128)),s[2]||(s[2]=t("br",null,null,-1))])])])}const re=F(x,[["render",W]]);export{re as default};
