import{d as w,i as c,r as $,B as R,C as A,u as U,f as V,c as E,_ as F,j as L,t as v,s as t,I,y as a,K as s,L as l,D as M,M as d,O as H,F as N,v as T,q as B,E as y,k as u}from"./app-DpqgLFQi.js";import{u as j}from"./index-BKG5m1Gr.js";import{R as q}from"./recipe-book.service-Df3-flx1.js";import{u as K}from"./date-format-rfZit4qg.js";import{U as O}from"./user.service-DYWiY2RY.js";import{R as Z}from"./recipe-book.model-D34OU-kN.js";const G=w({compatConfig:{MODE:3},name:"RecipeBookUpdate",setup(){var b;const e=c("recipeBookService",()=>new q),o=c("alertService",()=>V(),!0),n=$(new Z),f=c("userService",()=>new O),m=$([]),g=$(!1),p=c("currentLanguage",()=>E(()=>navigator.language??"en"),!0),i=R(),S=A(),C=()=>S.go(-1),z=async k=>{try{const r=await e().find(k);r.createdDate=new Date(r.createdDate),n.value=r}catch(r){o.showHttpError(r.response)}};(b=i.params)!=null&&b.recipeBookId&&z(i.params.recipeBookId),(()=>{f().retrieve().then(k=>{m.value=k.data})})();const{t:D}=U(),h=j({title:{},theme:{},description:{},tags:{},createdDate:{},user:{}},n);return h.value.$validate(),{recipeBookService:e,alertService:o,recipeBook:n,previousState:C,isSaving:g,currentLanguage:p,users:m,v$:h,...K({entityRef:n}),t$:D}},created(){},methods:{save(){this.isSaving=!0,this.recipeBook.id?this.recipeBookService().update(this.recipeBook).then(e=>{this.isSaving=!1,this.previousState(),this.alertService.showInfo(this.t$("szakdolgozatApp.recipeBook.updated",{param:e.id}))}).catch(e=>{this.isSaving=!1,this.alertService.showHttpError(e.response)}):this.recipeBookService().create(this.recipeBook).then(e=>{this.isSaving=!1,this.previousState(),this.alertService.showSuccess(this.t$("szakdolgozatApp.recipeBook.created",{param:e.id}).toString())}).catch(e=>{this.isSaving=!1,this.alertService.showHttpError(e.response)})}}}),J={class:"row justify-content-center"},P={class:"col-8"},Q=["textContent"],W={key:0,class:"form-group"},X=["textContent"],Y={class:"form-group"},_=["textContent"],x={class:"form-group"},ee=["textContent"],te={class:"form-group"},oe=["textContent"],ie={class:"form-group"},ae=["textContent"],se={class:"form-group"},ne=["textContent"],re={class:"d-flex"},le=["value"],de={class:"form-group"},pe=["textContent"],ce=["value"],ve=["textContent"],ue=["disabled"],me=["textContent"];function ke(e,o,n,f,m,g){const p=L("font-awesome-icon");return u(),v("div",J,[t("div",P,[t("form",{name:"editForm",novalidate:"",onSubmit:o[8]||(o[8]=I(i=>e.save(),["prevent"]))},[t("h2",{id:"szakdolgozatApp.recipeBook.home.createOrEditLabel","data-cy":"RecipeBookCreateUpdateHeading",textContent:a(e.t$("szakdolgozatApp.recipeBook.home.createOrEditLabel"))},null,8,Q),t("div",null,[e.recipeBook.id?(u(),v("div",W,[t("label",{for:"id",textContent:a(e.t$("global.field.id"))},null,8,X),s(t("input",{type:"text",class:"form-control",id:"id",name:"id","onUpdate:modelValue":o[0]||(o[0]=i=>e.recipeBook.id=i),readonly:""},null,512),[[l,e.recipeBook.id]])])):M("",!0),t("div",Y,[t("label",{class:"form-control-label",textContent:a(e.t$("szakdolgozatApp.recipeBook.title")),for:"recipe-book-title"},null,8,_),s(t("input",{type:"text",class:d(["form-control",{valid:!e.v$.title.$invalid,invalid:e.v$.title.$invalid}]),name:"title",id:"recipe-book-title","data-cy":"title","onUpdate:modelValue":o[1]||(o[1]=i=>e.v$.title.$model=i)},null,2),[[l,e.v$.title.$model]])]),t("div",x,[t("label",{class:"form-control-label",textContent:a(e.t$("szakdolgozatApp.recipeBook.theme")),for:"recipe-book-theme"},null,8,ee),s(t("input",{type:"text",class:d(["form-control",{valid:!e.v$.theme.$invalid,invalid:e.v$.theme.$invalid}]),name:"theme",id:"recipe-book-theme","data-cy":"theme","onUpdate:modelValue":o[2]||(o[2]=i=>e.v$.theme.$model=i)},null,2),[[l,e.v$.theme.$model]])]),t("div",te,[t("label",{class:"form-control-label",textContent:a(e.t$("szakdolgozatApp.recipeBook.description")),for:"recipe-book-description"},null,8,oe),s(t("input",{type:"text",class:d(["form-control",{valid:!e.v$.description.$invalid,invalid:e.v$.description.$invalid}]),name:"description",id:"recipe-book-description","data-cy":"description","onUpdate:modelValue":o[3]||(o[3]=i=>e.v$.description.$model=i)},null,2),[[l,e.v$.description.$model]])]),t("div",ie,[t("label",{class:"form-control-label",textContent:a(e.t$("szakdolgozatApp.recipeBook.tags")),for:"recipe-book-tags"},null,8,ae),s(t("input",{type:"text",class:d(["form-control",{valid:!e.v$.tags.$invalid,invalid:e.v$.tags.$invalid}]),name:"tags",id:"recipe-book-tags","data-cy":"tags","onUpdate:modelValue":o[4]||(o[4]=i=>e.v$.tags.$model=i)},null,2),[[l,e.v$.tags.$model]])]),t("div",se,[t("label",{class:"form-control-label",textContent:a(e.t$("szakdolgozatApp.recipeBook.createdDate")),for:"recipe-book-createdDate"},null,8,ne),t("div",re,[t("input",{id:"recipe-book-createdDate","data-cy":"createdDate",type:"datetime-local",class:d(["form-control",{valid:!e.v$.createdDate.$invalid,invalid:e.v$.createdDate.$invalid}]),name:"createdDate",value:e.convertDateTimeFromServer(e.v$.createdDate.$model),onChange:o[5]||(o[5]=i=>e.updateZonedDateTimeField("createdDate",i))},null,42,le)])]),t("div",de,[t("label",{class:"form-control-label",textContent:a(e.t$("szakdolgozatApp.recipeBook.user")),for:"recipe-book-user"},null,8,pe),s(t("select",{class:"form-control",id:"recipe-book-user","data-cy":"user",name:"user","onUpdate:modelValue":o[6]||(o[6]=i=>e.recipeBook.user=i)},[o[9]||(o[9]=t("option",{value:null},null,-1)),(u(!0),v(N,null,T(e.users,i=>(u(),v("option",{value:e.recipeBook.user&&i.id===e.recipeBook.user.id?e.recipeBook.user:i,key:i.id},a(i.id),9,ce))),128))],512),[[H,e.recipeBook.user]])])]),t("div",null,[t("button",{type:"button",id:"cancel-save","data-cy":"entityCreateCancelButton",class:"btn btn-secondary",onClick:o[7]||(o[7]=i=>e.previousState())},[B(p,{icon:"ban"}),o[10]||(o[10]=y(" ")),t("span",{textContent:a(e.t$("entity.action.cancel"))},null,8,ve)]),t("button",{type:"submit",id:"save-entity","data-cy":"entityCreateSaveButton",disabled:e.v$.$invalid||e.isSaving,class:"btn btn-primary"},[B(p,{icon:"save"}),o[11]||(o[11]=y(" ")),t("span",{textContent:a(e.t$("entity.action.save"))},null,8,me)],8,ue)])],32)])])}const Ce=F(G,[["render",ke]]);export{Ce as default};
