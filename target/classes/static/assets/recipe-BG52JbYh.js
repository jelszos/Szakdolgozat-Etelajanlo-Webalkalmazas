import{d as $,u as w,i as z,r as y,o as A,f as D,_ as R,j as g,R as x,t as h,s as t,y as n,q as i,m as d,D as k,F as S,v as E,k as p,E as F,K as B,l as j}from"./app-DpqgLFQi.js";import{R as I}from"./recipe.service-Bi-8z6n7.js";import{u as L}from"./date-format-rfZit4qg.js";const N=$({compatConfig:{MODE:3},name:"Recipe",setup(){const{t:e}=w(),s=L(),v=z("recipeService",()=>new I),m=z("alertService",()=>D(),!0),_=y([]),C=y(!1),r=()=>{},a=async()=>{C.value=!0;try{const l=await v().retrieve();_.value=l.data,console.log(_.value)}catch(l){m.showHttpError(l.response)}finally{C.value=!1}},b=()=>{a()};A(async()=>{await a()});const c=y(null),u=y(null),o=l=>{c.value=l.id,u.value.show()},f=()=>{u.value.hide()};return{recipes:_,handleSyncList:b,isFetching:C,retrieveRecipes:a,clear:r,...s,removeId:c,removeEntity:u,prepareRemove:o,closeDialog:f,removeRecipe:async()=>{try{await v().delete(c.value);const l=e("szakdolgozatApp.recipe.deleted",{param:c.value}).toString();m.showInfo(l,{variant:"danger"}),c.value=null,a(),f()}catch(l){m.showHttpError(l.response)}},t$:e}}}),V={id:"page-heading","data-cy":"RecipeHeading"},T=["textContent"],H={class:"d-flex justify-content-end"},q=["disabled"],M=["textContent"],U=["onClick"],K=["textContent"],O={key:0,class:"alert alert-warning"},G=["textContent"],J={key:1,class:"table-responsive"},P={class:"table table-striped","aria-describedby":"recipes"},Q={scope:"row"},W=["textContent"],X={scope:"row"},Y=["textContent"],Z={scope:"row"},tt=["textContent"],et={scope:"row"},nt=["textContent"],ot={scope:"row"},st=["textContent"],it={scope:"row"},at=["textContent"],lt={scope:"row"},dt=["textContent"],rt={scope:"row"},ct=["textContent"],pt={scope:"row"},ut=["textContent"],ht=["textContent"],mt=["textContent"],_t={class:"text-right"},Ct={class:"btn-group"},yt=["textContent"],gt=["textContent"],vt=["textContent"],bt=["textContent"],ft={class:"modal-body"},zt=["textContent"],kt=["textContent"],$t=["textContent"];function wt(e,s,v,m,_,C){const r=g("font-awesome-icon"),a=g("router-link"),b=g("b-button"),c=g("b-modal"),u=x("b-modal");return p(),h("div",null,[t("h2",V,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.home.title")),id:"recipe-heading"},null,8,T),t("div",H,[t("button",{class:"btn btn-info mr-2",onClick:s[0]||(s[0]=(...o)=>e.handleSyncList&&e.handleSyncList(...o)),disabled:e.isFetching},[i(r,{icon:"sync",spin:e.isFetching},null,8,["spin"]),t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.home.refreshListLabel"))},null,8,M)],8,q),i(a,{to:{name:"RecipeCreate"},custom:""},{default:d(({navigate:o})=>[t("button",{onClick:o,id:"jh-create-entity","data-cy":"entityCreateButton",class:"btn btn-primary jh-create-entity create-recipe"},[i(r,{icon:"plus"}),t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.home.createLabel"))},null,8,K)],8,U)]),_:1})])]),s[4]||(s[4]=t("br",null,null,-1)),!e.isFetching&&e.recipes&&e.recipes.length===0?(p(),h("div",O,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.home.notFound"))},null,8,G)])):k("",!0),e.recipes&&e.recipes.length>0?(p(),h("div",J,[t("table",P,[t("thead",null,[t("tr",null,[t("th",Q,[t("span",{textContent:n(e.t$("global.field.id"))},null,8,W)]),t("th",X,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.title"))},null,8,Y)]),t("th",Z,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.description"))},null,8,tt)]),t("th",et,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.ingredientNames"))},null,8,nt)]),t("th",ot,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.foodCategory"))},null,8,st)]),t("th",it,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.foodType"))},null,8,at)]),t("th",lt,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.imageUrl"))},null,8,dt)]),t("th",rt,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.createdDate"))},null,8,ct)]),t("th",pt,[t("span",{textContent:n(e.t$("szakdolgozatApp.recipe.user"))},null,8,ut)]),s[3]||(s[3]=t("th",{scope:"row"},null,-1))])]),t("tbody",null,[(p(!0),h(S,null,E(e.recipes,o=>(p(),h("tr",{key:o.id,"data-cy":"entityTable"},[t("td",null,[i(a,{to:{name:"RecipeView",params:{recipeId:o.id}}},{default:d(()=>[F(n(o.id),1)]),_:2},1032,["to"])]),t("td",null,n(o.title),1),t("td",null,n(o.description),1),t("td",null,n(o.ingredientNames),1),t("td",{textContent:n(e.t$("szakdolgozatApp.FoodCategory."+o.foodCategory))},null,8,ht),t("td",{textContent:n(e.t$("szakdolgozatApp.FoodType."+o.foodType))},null,8,mt),t("td",null,n(o.imageUrl),1),t("td",null,n(e.formatDateShort(o.createdDate)||""),1),t("td",null,n(o.user?o.user.id:""),1),t("td",_t,[t("div",Ct,[i(a,{to:{name:"RecipeView",params:{recipeId:o.id}},class:"btn btn-info btn-sm details","data-cy":"entityDetailsButton"},{default:d(()=>[i(r,{icon:"eye"}),t("span",{class:"d-none d-md-inline",textContent:n(e.t$("entity.action.view"))},null,8,yt)]),_:2},1032,["to"]),i(a,{to:{name:"RecipeEdit",params:{recipeId:o.id}},class:"btn btn-primary btn-sm edit","data-cy":"entityEditButton"},{default:d(()=>[i(r,{icon:"pencil-alt"}),t("span",{class:"d-none d-md-inline",textContent:n(e.t$("entity.action.edit"))},null,8,gt)]),_:2},1032,["to"]),B((p(),j(b,{onClick:f=>e.prepareRemove(o),variant:"danger",class:"btn btn-sm","data-cy":"entityDeleteButton"},{default:d(()=>[i(r,{icon:"times"}),t("span",{class:"d-none d-md-inline",textContent:n(e.t$("entity.action.delete"))},null,8,vt)]),_:2},1032,["onClick"])),[[u,void 0,void 0,{removeEntity:!0}]])])])]))),128))])])])):k("",!0),i(c,{ref:"removeEntity",id:"removeEntity"},{"modal-title":d(()=>[t("span",{id:"szakdolgozatApp.recipe.delete.question","data-cy":"recipeDeleteDialogHeading",textContent:n(e.t$("entity.delete.title"))},null,8,bt)]),"modal-footer":d(()=>[t("div",null,[t("button",{type:"button",class:"btn btn-secondary",textContent:n(e.t$("entity.action.cancel")),onClick:s[1]||(s[1]=o=>e.closeDialog())},null,8,kt),t("button",{type:"button",class:"btn btn-primary",id:"jhi-confirm-delete-recipe","data-cy":"entityConfirmDeleteButton",textContent:n(e.t$("entity.action.delete")),onClick:s[2]||(s[2]=o=>e.removeRecipe())},null,8,$t)])]),default:d(()=>[t("div",ft,[t("p",{id:"jhi-delete-recipe-heading",textContent:n(e.t$("szakdolgozatApp.recipe.delete.question",{id:e.removeId}))},null,8,zt)])]),_:1},512)])}const St=R(N,[["render",wt]]);export{St as default};
